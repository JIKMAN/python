# 정규표현식

### 문자 클래스 []

[0-9] 또는 [a-zA-Z] 등은 무척 자주 사용하는 정규 표현식이다. 

- `\d` - 숫자와 매치, [0-9]와 동일한 표현식이다.
- `\D` - 숫자가 아닌 것과 매치, `[^0-9]`와 동일한 표현식이다.
- `\s` - whitespace 문자와 매치, `[ \t\n\r\f\v]`와 동일한 표현식이다. 맨 앞의 빈 칸은 공백문자(space)를 의미한다.
- `\S` - whitespace 문자가 아닌 것과 매치, `[^ \t\n\r\f\v]`와 동일한 표현식이다.
- `\w` - 문자+숫자(alphanumeric)와 매치, `[a-zA-Z0-9_]`와 동일한 표현식이다.
- `\W` - 문자+숫자(alphanumeric)가 아닌 문자와 매치, `[^a-zA-Z0-9_]`와 동일한 표현식이다.

대문자로 사용된 것은 소문자의 반대임을 추측할 수 있다.

### Dot(.)

정규 표현식의 Dot(.) 메타 문자는 줄바꿈 문자인 `\n`을 제외한 모든 문자와 매치됨을 의미한다.

```bash
a.b : "a + 모든문자 + b"
# abc (x)
```

```
a[.]b : "a + . + b"
```

### 반복 (*)

```bash
ca*t : ct, cat, caaaaaaaaat
# a가 0번 이상 반복
```

### 반복 (+)

```python
ca+t : cat, caaat # ct(x)
# a가 1번 이상 반복
```

### 반복 ({m,n}, ?)

```python
ca{2}t : caat
# a가 2번 반복

ca{2,5}t : caat, caaaaat
# a가 2~5번 반복

ab?c : ac, abc
# b가 있어도되고 없어도 된다. 단, 반복은 아니다. ab{0,1}c 와 같은 의미
```

---

## 파이썬 re 모듈

```python
>>> import re
>>> p = re.compile('[a-z]+') # 정규표현식을 컴파일한다.
```



### 정규식을 이용한 문자열 검색

### 1. match

문자열의 처음부터 정규식과 매치되는지 조사

```python
p = re.complie('[a-z]+')

>>> m = p.match("python")
>>> print(m)
<_sre.SRE_Match object at 0x01F3F9F8>
# 매치되므로 돌려줌

>>> m = p.match("3 python")
>>> print(m)
None
# 매치되지 않음

p = re.compile(정규표현식)
m = p.match( 'string goes here' )
if m:
    print('Match found: ', m.group())
else:
    print('No match')
# 매치되면 돌려주고 아니면 No match 출력
```

### 2. search

문자열 처음부터 검색하면서 일치하는 부분을 리턴해줌

```python
>>> m = p.search("python")
>>> print(m)
<_sre.SRE_Match object at 0x01F3FA68>
# 매치되므로 돌려줌

>>> m = p.search("3 python")
>>> print(m)
<_sre.SRE_Match object at 0x01F3FA30>
# 일치하는 부분만 리턴해줌
```

### 3. findall

매치되는 문자열들을 리스트로 리턴해줌

```python
>>> result = p.findall("life is too short")
>>> print(result)
['life', 'is', 'too', 'short']
```

### 4. finditer

findall과 동일하지만 반복 가능한 객체(iterator object)로 돌려준다.

```python
>>> result = p.finditer("life is too short")
>>> print(result)
<callable_iterator object at 0x01F5E390>
>>> for r in result:
    	print(r)
...
<_sre.SRE_Match object at 0x01F3F9F8>
<_sre.SRE_Match object at 0x01F3FAD8>
<_sre.SRE_Match object at 0x01F3FAA0>
<_sre.SRE_Match object at 0x01F3F9F8>
```

---

## match 객체의 메서드

| method  | 목적                                                   |
| :-----: | ------------------------------------------------------ |
| group() | 매치된 문자열을 돌려준다.                              |
| start() | 매치된 문자열의 시작 위치를 돌려준다.                  |
|  end()  | 매치된 문자열의 끝 위치를 돌려준다.                    |
| span()  | 매치된 문자열의 (시작, 끝)에 해당하는 튜플을 돌려준다. |

```python
>>> m = p.match("python")
>>> m.group()
'python'
>>> m.start()
0
>>> m.end()
6
>>> m.span()
(0, 6)
```

```python
>>> m = p.search("3 python")
>>> m.group()
'python'
>>> m.start()
2
>>> m.end()
8
>>> m.span()
(2, 8)
```

